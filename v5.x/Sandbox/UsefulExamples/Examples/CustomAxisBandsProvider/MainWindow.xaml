<Window x:Class="CustomAxisBandsProvider.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CustomAxisBandsProvider"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        xmlns:s="http://schemas.abtsoftware.co.uk/scichart"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid.Resources>

            <ObjectDataProvider x:Key="AxisBandsFrequencyProvider" MethodName="GetValues"
                                ObjectType="{x:Type System:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type TypeName="s:AxisBandsFrequency"/>
                </ObjectDataProvider.MethodParameters>
            </ObjectDataProvider>

            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

            <local:XAxisBandsProvider x:Key="XAxisBandsProvider" />

            <local:YAxisBandsProvider x:Key="YAxisBandsProvider" />

            <DataTemplate x:Key="EmptyTemplate">
                <Grid/>
            </DataTemplate>

            <Style x:Key="CustomDiscontAxisTickLabelStyle" TargetType="s:DefaultTickLabel">
                <Setter Property="HorizontalAnchorPoint" Value="Left" />
                <Setter Property="Foreground" Value="Black" />
                <Setter Property="ContentTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <Border
                                Width="{Binding LabelSize}"
                                Background="{Binding LabelBackgroundBrush}"
                                BorderBrush="Black"
                                BorderThickness="2,1,2,1">
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Text="{Binding Text}" />
                            </Border>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="CustomTopDiscontAxisTickLabelStyle" TargetType="s:DefaultTickLabel">
                <Setter Property="HorizontalAnchorPoint" Value="{Binding HorizontalAnchorPoint}" />
                <Setter Property="Foreground" Value="{Binding Foreground}" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding HorizontalAnchorPoint}" Value="Left">
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <Border
                                        Width="{Binding LabelSize, Mode=TwoWay}"
                                        Background="{Binding LabelBackgroundBrush}"
                                        BorderBrush="Black"
                                        BorderThickness="{Binding BorderThickness}">

                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="{Binding Text}" />
                                    </Border>
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                    </DataTrigger>
                    <DataTrigger Binding="{Binding HorizontalAnchorPoint}" Value="Center">
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Text="{Binding Text}" />
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="DoubleScaleAxisLabelStyle" TargetType="s:DefaultTickLabel">
                <Setter Property="Foreground" Value="Yellow" />
            </Style>

            <Style x:Key="DoubleScaleAxisTickStyle" TargetType="Line">
                <Setter Property="Stroke" Value="Yellow" />
                <Setter Property="StrokeThickness" Value="1" />
                <Setter Property="StrokeEndLineCap" Value="Square" />
                <Setter Property="X2" Value="3" />
                <Setter Property="Y2" Value="3" />
            </Style>

            <Style x:Key="DoubleScaleAxisStyle" TargetType="s:DoubleScaleDiscontinuousDateTimeAxis">
                <Setter Property="BorderThickness" Value="0,1,0,0" />
                <Setter Property="BorderBrush" Value="{s:ThemeBinding MajorGridLinesBrush}" />
            </Style>
        </Grid.Resources>

        <s:SciChartSurface Grid.Row="1">

            <s:SciChartSurface.RenderableSeries>
                <s:FastLineRenderableSeries x:Name="LineRenderableSeries" XAxisId="DoubleScaleAxis"/>
                <s:FastLineRenderableSeries x:Name="LineRenderableSeries2" XAxisId="DoubleScaleAxis"/>
            </s:SciChartSurface.RenderableSeries>

            <s:SciChartSurface.YAxis>
                <s:NumericAxis DrawMajorBands="False" DrawMinorGridLines="False" AxisBandsProvider="{StaticResource YAxisBandsProvider}" TickLabelStyle="{StaticResource DoubleScaleAxisLabelStyle}"/>
            </s:SciChartSurface.YAxis>

            <s:SciChartSurface.XAxes>
                <s:DoubleScaleDiscontinuousDateTimeAxis AxisBandsFrequency="{Binding SelectedItem, ElementName=AxisBandsFrequencyCombobox}" DrawMajorBands="True" DrawMinorGridLines="False" Style="{StaticResource DoubleScaleAxisStyle}"  MajorTickLineStyle="{StaticResource DoubleScaleAxisTickStyle}" TickLabelStyle="{StaticResource DoubleScaleAxisLabelStyle}" 
                                                        Calendar="{Binding AxisCalendar}" x:Name="DoubleScaleAxis" Id="DoubleScaleAxis"
                                                        AxisBandsProvider="{StaticResource XAxisBandsProvider}" />
            </s:SciChartSurface.XAxes>

            <s:SciChartSurface.ChartModifier>
                <s:ModifierGroup>
                    <s:ZoomPanModifier/>
                    <s:XAxisDragModifier ClipModeX="None"/>
                    <s:MouseWheelZoomModifier/>
                    <s:ZoomExtentsModifier/>
                </s:ModifierGroup>
            </s:SciChartSurface.ChartModifier>
        </s:SciChartSurface>

        <StackPanel Orientation="Horizontal" Grid.Row="0">
            <Button Click="OnLoadDataClick">Load data</Button>
            <ComboBox Margin="5,0,0,0" SelectedIndex="0"  x:Name="AxisBandsFrequencyCombobox" ItemsSource="{Binding Source={StaticResource AxisBandsFrequencyProvider}}"/>
        </StackPanel>
    </Grid>
</Window>
